/* Editor styles for agenda pages - Tampa Monitor Theme */
/* This file should be enqueued in the block editor for better preview accuracy */

/* Force details blocks to be open in editor for better content visibility */
.editor-styles-wrapper .wp-block-details {
  border: 1px solid #8a8a82; /* accent-4 */
  border-radius: 8px;
  margin: 2rem 0; /* approximate spacing-40 */
  background: #f1f1e6; /* base */
  overflow: hidden;
}

.editor-styles-wrapper .wp-block-details[open],
.editor-styles-wrapper .wp-block-details:not([open]) {
  /* Ensure consistent appearance regardless of open state in editor */
}

.editor-styles-wrapper .wp-block-details summary {
  background: #f8f8f2; /* accent-5 */
  padding: 1.5rem 2rem; /* approximate spacing-30 spacing-40 */
  cursor: pointer;
  font-family: "Libre Franklin", sans-serif;
  font-weight: 600;
  color: #314a59; /* contrast */
  border-bottom: 1px solid #8a8a82;
  position: relative;
  transition: background-color 0.2s ease;
  -webkit-user-select: none;
  user-select: none;
  list-style: none;
}

.editor-styles-wrapper .wp-block-details summary:hover {
  background: #e6b45e; /* accent-1 */
}

.editor-styles-wrapper .wp-block-details summary:focus {
  outline: 2px solid #1d636b; /* accent-3 */
  outline-offset: 2px;
}

.editor-styles-wrapper .wp-block-details summary::marker,
.editor-styles-wrapper .wp-block-details summary::-webkit-details-marker {
  display: none;
}

.editor-styles-wrapper .wp-block-details summary::after {
  content: "▼";
  position: absolute;
  right: 2rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.8em;
  color: #1d636b; /* accent-3 */
  transition: opacity 0.2s ease;
}

.editor-styles-wrapper .wp-block-details[open] summary::after {
  content: "▲";
}

/* Editor-specific: Add a subtle badge to indicate interactivity on frontend */
.editor-styles-wrapper .wp-block-details summary::before {
  content: "Interactive";
  position: absolute;
  top: -8px;
  right: 2rem;
  background: #1d636b; /* accent-3 */
  color: #f8f8f2; /* accent-5 */
  font-size: 0.7em;
  padding: 2px 6px;
  border-radius: 3px;
  font-weight: 400;
  opacity: 0.8;
}

.editor-styles-wrapper .wp-block-details .wp-block-paragraph {
  padding: 2rem;
  margin: 0;
  background: #f1f1e6; /* base */
  font-family: "PT Serif", serif;
  line-height: 1.6;
  color: #314a59; /* contrast */
}

/* Ordered list styling inside details block for editor */
.editor-styles-wrapper .wp-block-details .wp-block-list {
  padding: 2rem;
  margin: 0;
  background: #f1f1e6; /* base */
}

.editor-styles-wrapper .agenda-supporting-docs {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid #8a8a82;
}

.editor-styles-wrapper .agenda-supporting-docs h4 {
  font-family: "Libre Franklin", sans-serif;
  font-weight: 600;
  color: #314a59;
  margin: 0 0 1rem 0;
  font-size: 1.125rem;
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* CSS Grid layout for supporting docs with 6+ items in editor */
.editor-styles-wrapper
  .agenda-supporting-docs
  .wp-block-list:has(li:nth-child(7)) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem 1.5rem; /* approximate spacing-20 spacing-30 */
  margin-top: 1rem;
}

/* Reset margins for grid items in editor */
.editor-styles-wrapper
  .agenda-supporting-docs
  .wp-block-list:has(li:nth-child(7))
  li {
  margin-bottom: 0;
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list li {
  margin-bottom: 0.5rem; /* approximate spacing-10 */
  padding-left: 2rem; /* approximate spacing-40 */
  position: relative;
  line-height: 1.4; /* Tighter line height for more compact look */
  font-size: 0.875rem; /* small font size */
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list li::before {
  content: "";
  background-image: url("data:image/svg+xml,%3Csvg fill='none' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m17.9584 12.5417-7.5833-7.58336h-3.79169c-.29915 0-.54166.24251-.54166.54166v13c0 .2991.24251.5417.54166.5417h10.83329c.2992 0 .5417-.2426.5417-.5417zm-9.20832-9.20836h7.04162 1.625c1.1967 0 2.1667.97005 2.1667 2.16666v1.625 7.0417 4.3333c0 1.1967-.97 2.1667-2.1667 2.1667h-10.83329c-1.19661 0-2.16666-.97-2.16666-2.1667v-13c0-1.19661.97005-2.16666 2.16666-2.16666z' fill='currentColor' fill-rule='evenodd'/%3E%3C/svg%3E");
  background-size: 1.1em 1.1em;
  background-repeat: no-repeat;
  background-position: center;
  position: absolute;
  left: 0;
  top: 0;
  width: 1.1em;
  height: 1.1em;
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list a {
  color: #1d636b; /* accent-3 */
  text-decoration: underline;
  text-decoration-color: #e6b45e; /* accent-1 */
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
  font-family: "Libre Franklin", sans-serif;
  font-weight: 500;
  font-size: 0.875rem; /* small font size */
  transition: all 0.3s ease;
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list a:hover {
  color: #314a59; /* contrast */
  text-decoration-color: #1d636b; /* accent-3 */
  text-decoration-thickness: 3px;
}

.editor-styles-wrapper .agenda-supporting-docs .wp-block-list a:focus {
  outline: 2px solid #e6b45e; /* accent-1 */
  outline-offset: 2px;
  border-radius: 3px;
}

/* Responsive adjustments for editor */
@media (max-width: 768px) {
  .editor-styles-wrapper .wp-block-details summary {
    padding: 1rem 1.5rem; /* approximate spacing-20 spacing-30 */
  }
  .editor-styles-wrapper .wp-block-details .wp-block-paragraph,
  .editor-styles-wrapper .wp-block-details .wp-block-list {
    padding: 1.5rem; /* approximate spacing-30 */
  }

  .editor-styles-wrapper .agenda-supporting-docs {
    margin-top: 1.5rem; /* approximate spacing-30 */
  }

  .editor-styles-wrapper .agenda-supporting-docs .wp-block-list li {
    font-size: 0.875rem; /* small font size */
  }

  /* Single column on mobile for grid layouts in editor */
  .editor-styles-wrapper
    .agenda-supporting-docs
    .wp-block-list:has(li:nth-child(7)) {
    grid-template-columns: 1fr;
    gap: 0.5rem; /* approximate spacing-10 */
  }
}

/* Tablet responsive adjustments for editor */
@media (min-width: 769px) and (max-width: 1024px) {
  .editor-styles-wrapper
    .agenda-supporting-docs
    .wp-block-list:has(li:nth-child(7)) {
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }
}

/* Fallback for browsers without :has() support in editor */
@supports not selector(:has(*)) {
  .editor-styles-wrapper .agenda-supporting-docs .wp-block-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem 1.5rem; /* approximate spacing-20 spacing-30 */
  }

  .editor-styles-wrapper .agenda-supporting-docs .wp-block-list li {
    margin-bottom: 0;
  }

  @media (max-width: 768px) {
    .editor-styles-wrapper .agenda-supporting-docs .wp-block-list {
      grid-template-columns: 1fr;
      gap: 0.5rem; /* approximate spacing-10 */
    }
  }
}
